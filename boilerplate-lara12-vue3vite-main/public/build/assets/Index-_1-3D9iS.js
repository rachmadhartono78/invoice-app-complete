import{r as d,B as m,a as r,b as e,j as g,v as y,I as k,F as w,m as C,t as l,k as $,J as _,o as u,n as D}from"./app-CqKlUKfZ.js";const I={class:"p-6"},S={class:"flex justify-between mb-6"},N={class:"flex gap-4 mb-4"},j={class:"bg-white rounded shadow overflow-x-auto"},B={class:"w-full"},P={class:"p-3"},V={class:"p-3"},F={class:"p-3"},M={class:"p-3 text-right"},A={class:"p-3 text-center"},L={class:"p-3"},T={class:"flex gap-2 justify-center"},U=["onClick"],z=["onClick"],E=["href"],J=["onClick"],q={key:0,class:"flex justify-center gap-4 mt-4"},G=["disabled"],H=["disabled"],Q={__name:"Index",setup(K){const v=d([]),c=d(""),p=d(""),a=d(1),i=d(1),n=async(o=a.value)=>{const{data:t}=await _.get("/api/invoices",{params:{page:o,search:c.value,status:p.value}});v.value=t.data,a.value=t.current_page,i.value=t.last_page},x=async o=>{confirm("Delete?")&&(await _.delete(`/api/invoices/${o}`),n())},f=o=>new Intl.NumberFormat("id").format(o),h=o=>({draft:"bg-gray-200",pending:"bg-yellow-200",paid:"bg-green-200"})[o]||"";return m(n),(o,t)=>(u(),r("div",I,[e("div",S,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold"},"Invoices",-1)),e("button",{onClick:t[0]||(t[0]=s=>o.$router.push("/invoices/create")),class:"bg-blue-600 text-white px-4 py-2 rounded"},"+ New Invoice")]),e("div",N,[g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>c.value=s),onInput:n,placeholder:"Search...",class:"border px-3 py-2 rounded flex-1"},null,544),[[y,c.value]]),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),onChange:n,class:"border px-3 py-2 rounded"},t[6]||(t[6]=[e("option",{value:""},"All Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"paid"},"Paid",-1)]),544),[[k,p.value]])]),e("div",j,[e("table",B,[t[7]||(t[7]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"p-3 text-left"},"Invoice#"),e("th",{class:"p-3 text-left"},"Date"),e("th",{class:"p-3 text-left"},"Customer"),e("th",{class:"p-3 text-right"},"Total"),e("th",{class:"p-3"},"Status"),e("th",{class:"p-3"},"Actions")])],-1)),e("tbody",null,[(u(!0),r(w,null,C(v.value,s=>(u(),r("tr",{key:s.id,class:"border-t hover:bg-gray-50"},[e("td",P,l(s.invoice_number),1),e("td",V,l(new Date(s.invoice_date).toLocaleDateString("id")),1),e("td",F,l(s.customer_name),1),e("td",M,l(f(s.total)),1),e("td",A,[e("span",{class:D("px-2 py-1 rounded text-xs "+h(s.status))},l(s.status),3)]),e("td",L,[e("div",T,[e("button",{onClick:b=>o.$router.push(`/invoices/${s.id}`),class:"text-blue-600"},"ðŸ‘",8,U),e("button",{onClick:b=>o.$router.push(`/invoices/${s.id}/edit`),class:"text-green-600"},"âœï¸",8,z),e("a",{href:`/api/invoices/${s.id}/pdf`,target:"_blank",class:"text-red-600"},"ðŸ“„",8,E),e("button",{onClick:b=>x(s.id),class:"text-red-600"},"ðŸ—‘",8,J)])])]))),128))])])]),i.value>1?(u(),r("div",q,[e("button",{onClick:t[3]||(t[3]=s=>n(a.value-1)),disabled:a.value===1,class:"px-4 py-2 border rounded"},"Prev",8,G),e("span",null,"Page "+l(a.value)+" of "+l(i.value),1),e("button",{onClick:t[4]||(t[4]=s=>n(a.value+1)),disabled:a.value===i.value,class:"px-4 py-2 border rounded"},"Next",8,H)])):$("",!0)]))}};export{Q as default};
