import{_ as b,G as a,o as y,a as g,b as t,t as p,f as i,j as s,v as l,K as f,h as x,J as k,i as c}from"./app-DSMprFLy.js";const v={name:"CustomerForm",data(){return{loading:!1,isEdit:!1,customerId:null,form:{code:"",name:"",email:"",phone:"",contact_person:"",contact_phone:"",tax_id:"",payment_terms:"net_30",credit_limit:0,address:"",notes:"",is_active:!0}}},mounted(){this.customerId=this.$route.params.id,this.isEdit=!!this.customerId,this.isEdit&&this.loadCustomer()},methods:{async loadCustomer(){this.loading=!0;try{const{data:d}=await a.get(`/customers/${this.customerId}`);this.form={...d}}catch(d){console.error("Failed to load customer:",d),this.$emit("showToast","Failed to load customer","error"),this.$router.push("/app/invoices/customers")}finally{this.loading=!1}},async submit(){var d,e;this.loading=!0;try{this.isEdit?(await a.put(`/customers/${this.customerId}`,this.form),this.$emit("showToast","✅ Customer updated successfully","success")):(await a.post("/customers",this.form),this.$emit("showToast","✅ Customer created successfully","success")),this.$router.push("/app/invoices/customers")}catch(n){const m=((e=(d=n.response)==null?void 0:d.data)==null?void 0:e.message)||"Failed to save customer";this.$emit("showToast",m,"error")}finally{this.loading=!1}}}},w={class:"p-6 max-w-4xl mx-auto"},h={class:"mb-6"},C={class:"text-2xl font-bold dark:text-white"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U={class:"flex items-center"},N={class:"md:col-span-2"},D={class:"md:col-span-2"},E={class:"flex gap-4 mt-6"},T=["disabled"];function P(d,e,n,m,o,u){return y(),g("div",w,[t("div",h,[t("h1",C,p(o.isEdit?"Edit Customer":"New Customer"),1)]),t("form",{onSubmit:e[13]||(e[13]=c((...r)=>u.submit&&u.submit(...r),["prevent"])),class:"bg-white dark:bg-gray-800 rounded shadow p-6"},[t("div",V,[t("div",null,[e[14]||(e[14]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},[i("Customer Code "),t("span",{class:"text-gray-400 text-sm"},"(Auto-generated if empty)")],-1)),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.code=r),type:"text",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"Leave empty to auto-generate"},null,512),[[l,o.form.code]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},[i("Customer Name "),t("span",{class:"text-red-500"},"*")],-1)),s(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.name=r),type:"text",required:"",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"PT. ABC Company"},null,512),[[l,o.form.name]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Email",-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.email=r),type:"email",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"customer@email.com"},null,512),[[l,o.form.email]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Phone",-1)),s(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.phone=r),type:"text",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"+62 812 3456 7890"},null,512),[[l,o.form.phone]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Contact Person",-1)),s(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.contact_person=r),type:"text",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"John Doe"},null,512),[[l,o.form.contact_person]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Contact Phone",-1)),s(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o.form.contact_phone=r),type:"text",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"+62 812 3456 7890"},null,512),[[l,o.form.contact_phone]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Tax ID (NPWP)",-1)),s(t("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>o.form.tax_id=r),type:"text",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"00.000.000.0-000.000"},null,512),[[l,o.form.tax_id]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},[i("Payment Terms "),t("span",{class:"text-red-500"},"*")],-1)),s(t("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>o.form.payment_terms=r),required:"",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white"},e[21]||(e[21]=[x('<option value="cash">Cash</option><option value="net_7">Net 7 Days</option><option value="net_14">Net 14 Days</option><option value="net_30">Net 30 Days</option><option value="net_45">Net 45 Days</option><option value="net_60">Net 60 Days</option>',6)]),512),[[f,o.form.payment_terms]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Credit Limit",-1)),s(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>o.form.credit_limit=r),type:"number",step:"0.01",min:"0",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"0.00"},null,512),[[l,o.form.credit_limit]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Status",-1)),t("div",U,[s(t("input",{"onUpdate:modelValue":e[9]||(e[9]=r=>o.form.is_active=r),type:"checkbox",class:"w-4 h-4 text-blue-600 rounded"},null,512),[[k,o.form.is_active]]),e[24]||(e[24]=t("span",{class:"ml-2 dark:text-gray-300"},"Active",-1))])]),t("div",N,[e[26]||(e[26]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Address",-1)),s(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=r=>o.form.address=r),rows:"3",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"Full address..."},null,512),[[l,o.form.address]])]),t("div",D,[e[27]||(e[27]=t("label",{class:"block mb-2 font-medium dark:text-gray-200"},"Notes",-1)),s(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=r=>o.form.notes=r),rows:"3",class:"w-full border dark:border-gray-600 px-3 py-2 rounded dark:bg-gray-700 dark:text-white",placeholder:"Additional notes..."},null,512),[[l,o.form.notes]])])]),t("div",E,[t("button",{type:"submit",disabled:o.loading,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50"},p(o.loading?"Saving...":o.isEdit?"Update":"Create"),9,T),t("button",{type:"button",onClick:e[12]||(e[12]=r=>d.$router.push("/app/invoices/customers")),class:"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 px-6 py-2 rounded dark:text-white"}," Cancel ")])],32)])}const F=b(v,[["render",P]]);export{F as default};
