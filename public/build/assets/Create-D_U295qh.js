import{_ as x,g as b,o as a,c as n,b as y,a as e,t as h,E as w,e as l,j as d,k as v,i as c,v as u}from"./app-yrMyzsrH.js";const V={data(){return{loading:!1,form:{application_id:"",name:"",url:"",icon:"",description:"",order:null},modalCreate:null,dialogConfirmation:!1,typeSubmit:"",id:"",applications:[],menus:[]}},created(){this.id=this.$route.params.id,this.id&&this.doGetDataDetail(this.id)},mounted(){this.retrieveApplication(),this.retrieveMenu()},beforeUnmount(){},watch:{},methods:{retrieveApplication(){this.loading=!0,this.axios.get("v1/settings/applications").then(o=>{this.applications=o.data}).catch(o=>{console.log(o)}).finally(()=>this.loading=!1)},retrieveMenu(){this.loading=!0,this.axios.get("v1/settings/menus").then(o=>{this.menus=o.data}).catch(o=>{console.log(o)}).finally(()=>this.loading=!1)},doGetDataDetail(){this.loading=!0,this.axios.get("v1/settings/menus/"+this.id).then(o=>{const r=o.data;this.form=r}).catch(o=>{console.log(o)}).finally(()=>this.loading=!1)},confirmSubmit(o){this.dialogConfirmation=!0},handleTypeSubmit(o){this.typeSubmit=o},resetForm(){this.form={application_id:"",name:"",url:"",icon:"",description:"",order:null}},handleOnClose(o){o===!0?this.submit():this.dialogConfirmation=!1},handleDepartmentSelect(o){},submit(){let o="v1/settings/menus";this.loading=!0;let r=JSON.parse(JSON.stringify(this.form));this.id&&(o+="/"+this.id,r._method="PUT"),this.axios.post(o,r).then(m=>{this.$emit("showToast",m.message||"Berhasil!","success"),this.dialogConfirmation=!1,this.typeSubmit==="createNew"?this.resetForm():this.$router.push({name:"index-menus"})}).catch(m=>{this.loading=!1,this.$emit("showToast",m.message,"error")}).finally(()=>{this.loading=!1})}}},C={class:"relative sm:p-4 xs:p-0 w-full h-full md:h-auto"},S={class:"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},M={class:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600"},U={class:"text-lg font-semibold text-gray-900 dark:text-white"},j={class:"grid gap-4 mb-4 sm:grid-cols-2"},B=["value"],T={class:"grid gap-4 mb-4 sm:grid-cols-2"},N={key:0,class:"flex flex-col justify-center items-center"},D=["innerHTML"],H={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-5"},O={class:"mr-1 -ml-1 w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},q={class:"mr-1 -ml-1 w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function A(o,r,m,L,t,s){var p,f;const k=b("confirmation-dialog"),g=b("autocomplete");return a(),n("div",null,[y(k,{isVisible:t.dialogConfirmation,title:"Simpan data",loading:t.loading,message:"Apakah kamu yakin ingin menyimpan data ini?",onOnClose:r[0]||(r[0]=i=>s.handleOnClose(i))},null,8,["isVisible","loading"]),e("form",{onSubmit:r[11]||(r[11]=c((...i)=>s.confirmSubmit&&s.confirmSubmit(...i),["prevent"]))},[e("div",C,[e("div",S,[e("div",M,[e("h3",U,h(t.id?"Ubah":"Tambah")+" Menu ",1)]),e("div",j,[e("div",null,[r[12]||(r[12]=e("label",{for:"text",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Menu Induk ",-1)),t.id&&t.form.menu_induk?(a(),n("input",{key:0,type:"text",name:"menu_id",id:"menu_id",value:(f=(p=t.form)==null?void 0:p.menu_induk)==null?void 0:f.name,disabled:"",class:"cursor-not-allowed bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Menu induk",required:""},null,8,B)):(a(),w(g,{key:1,items:t.menus,placeholder:"Cari menu...","label-key":"name",modelValue:t.form.menu_id,"onUpdate:modelValue":r[1]||(r[1]=i=>t.form.menu_id=i)},null,8,["items","modelValue"]))]),e("div",null,[r[13]||(r[13]=e("label",{for:"text",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Aplikasi ",-1)),y(g,{items:t.applications,placeholder:"Cari aplikasi...","label-key":"name",required:"",modelValue:t.form.application_id,"onUpdate:modelValue":r[2]||(r[2]=i=>t.form.application_id=i)},null,8,["items","modelValue"])])]),e("div",T,[e("div",null,[r[14]||(r[14]=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama",-1)),l(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":r[3]||(r[3]=i=>t.form.name=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Nama",required:""},null,512),[[d,t.form.name]])]),e("div",null,[r[15]||(r[15]=e("label",{for:"url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"URL",-1)),l(e("input",{type:"text",name:"url",id:"url","onUpdate:modelValue":r[4]||(r[4]=i=>t.form.url=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"URL Menu",required:""},null,512),[[d,t.form.url]])]),e("div",null,[r[16]||(r[16]=e("label",{for:"order",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Order",-1)),l(e("input",{type:"number",name:"order",id:"order","onUpdate:modelValue":r[5]||(r[5]=i=>t.form.order=i),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Order",required:""},null,512),[[d,t.form.order]])]),e("div",null,[r[17]||(r[17]=e("label",{for:"url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Deskripsi",-1)),l(e("textarea",{"onUpdate:modelValue":r[6]||(r[6]=i=>t.form.description=i),rows:"3",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},null,512),[[d,t.form.description]])]),e("div",null,[t.form.icon?(a(),n("div",N,[r[18]||(r[18]=e("label",{for:"url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Icon Preview",-1)),e("span",{innerHTML:t.form.icon},null,8,D)])):v("",!0)]),e("div",null,[r[19]||(r[19]=e("label",{for:"url",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Icon SVG",-1)),l(e("textarea",{"onUpdate:modelValue":r[7]||(r[7]=i=>t.form.icon=i),rows:"3",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},null,512),[[d,t.form.icon]])])])]),e("div",H,[e("button",{type:"button",onClick:r[8]||(r[8]=c(i=>o.$router.go(-1),["prevent"])),class:"text-gray-600 dark:text-white hover:text-white flex items-center justify-center w-full sm:w-auto border border-gray-700 dark:border-gray-500 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:hover:bg-gray-700 dark:focus:ring-primary-800"},r[20]||(r[20]=[e("svg",{class:"mr-1 -ml-1 w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14 8-4 4 4 4"})],-1),e("span",null,"Kembali",-1)])),l(e("button",{type:"submit",onClick:r[9]||(r[9]=i=>s.handleTypeSubmit("createNew")),class:"text-primary-600 dark:text-primary-300 hover:text-white flex items-center justify-center space-x-2 w-full sm:w-auto border border-primary-700 hover:border-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:hover:bg-primary-700 dark:focus:ring-primary-800"},r[21]||(r[21]=[e("svg",{class:"mr-1 -ml-1 w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"square","stroke-linejoin":"round","stroke-width":"2",d:"M16.5 15v1.5m0 0V18m0-1.5H15m1.5 0H18M3 9V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v3M3 9v6a1 1 0 0 0 1 1h5M3 9h16m0 0v1M6 12h3m12 4.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z"})],-1),e("span",null,"Simpan & Buat baru",-1)]),512),[[u,!t.id]]),e("button",{type:"submit",onClick:r[10]||(r[10]=i=>s.handleTypeSubmit("create")),class:"text-white flex items-center justify-center w-full sm:w-auto bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},[l((a(),n("svg",O,r[22]||(r[22]=[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)]),512)),[[u,!t.id]]),l((a(),n("svg",q,r[23]||(r[23]=[e("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 5a1 1 0 0 1 1-1h11.586a1 1 0 0 1 .707.293l2.414 2.414a1 1 0 0 1 .293.707V19a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5Z"},null,-1),e("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"1",d:"M8 4h8v4H8V4Zm7 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]),512)),[[u,t.id]]),e("span",null,h(t.id?"Simpan perubahan":"Simpan"),1)])])])],32)])}const G=x(V,[["render",A]]);export{G as default};
