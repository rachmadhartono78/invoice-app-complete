import{_ as Y,p as O,u as N,q as P,g as Z,o as r,c as o,a as e,f as q,i as C,t as x,k as c,e as D,v as E,F as B,l as T,s as b,b as L,w as V,h as W,x as I,y as R,r as v,z as J,A as F,B as A,C as K,D as G,E as Q}from"./app-yrMyzsrH.js";const ee={setup(){const n=O(),t=N(),f=P();return{notificationStore:f,user:t.user,theme:n.theme,toggleDarkMode:n.toggleTheme,notifications:f.notifications}},data(){return{dropdownOpen:!1}},mounted(){this.getNotifications()},computed:{unreadCount(){return this.notificationStore.notifications.filter(n=>n.read_at==null).length}},methods:{getNotifications(){axios.get("notification",{params:{status:"unread"}}).then(n=>{this.notificationStore.notifications=n.data.data||[]}).catch(n=>{console.error("Failed to fetch notifications:",n)})},handleClickNotification(n){n.read_at==null&&this.markAsRead(n.id),n.url_action!=null&&this.$router.push("/koas"+n.url_action),this.dropdownOpen=!1},toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},markAsRead(n){this.notificationStore.markAsRead(n)},getCurrentTheme(){return O().theme},onClickProfile(){this.$router.push({name:"profile"}),document.getElementById("dropdown-nav-user").classList.toggle("hidden")},logout(){this.axios.post("/logout").then(()=>{this.notificationStore.clearNotifications(),this.$router.push({name:"auth"})}).catch(n=>{console.error("Logout failed:",n)})}}},te={class:"bg-white border-b border-gray-200 px-4 py-2.5 dark:bg-gray-800 dark:border-gray-700 z-30"},re={class:"flex flex-wrap justify-between items-center"},oe={class:"flex justify-start items-center"},ne={class:"relative flex items-center lg:order-2"},se={key:0,class:"w-7 h-7 text-primary-600","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},ae={key:1,"aria-hidden":"true",class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},ie={key:2,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -end-2 dark:border-gray-900"},le={class:"absolute right-0 top-[100%] rounded-xl my-4 min-w-[300px] text-base list-none bg-white rounded divide-y divide-gray-100 shadow-lg dark:divide-gray-600 dark:bg-gray-700 rounded-xl"},de=["onClick"],ue={class:"flex-shrink-0"},ge=["src"],he={key:1,class:"relative w-11 h-11 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600"},ce={key:2,class:"flex absolute justify-center items-center ml-6 -mt-5 w-5 h-5 rounded-full border border-white bg-primary-700 dark:border-gray-700"},me={class:"pl-3 w-full"},we={class:"text-gray-500 font-normal text-sm mb-1.5 dark:text-gray-400"},ve={class:"font-semibold text-gray-900 dark:text-white"},xe=["innerHTML"],fe={class:"text-xs font-medium text-primary-600 dark:text-primary-500"},ye={key:0,class:"py-5 px-4 border-b hover:bg-gray-100 dark:hover:bg-gray-600 dark:border-gray-600"},pe={key:0,class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},ke={key:1,class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},be={type:"button",class:"flex mx-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",id:"user-menu-button","aria-expanded":"false","data-dropdown-toggle":"dropdown-nav-user"},_e=["src"],Me={key:1,class:"relative w-8 h-8 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600"},Ce={class:"hidden z-50 my-4 w-56 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600 rounded-xl",id:"dropdown-nav-user"},Be={class:"py-3 px-4"},$e={class:"block text-sm font-semibold text-gray-900 dark:text-white"},Se={class:"block text-sm text-gray-900 truncate dark:text-white"},Le={class:"py-1 text-gray-700 dark:text-gray-300","aria-labelledby":"dropdown"},He={class:"py-1 text-gray-700 dark:text-gray-300"};function Te(n,t,f,u,h,d){const g=Z("router-link");return r(),o("nav",te,[e("div",re,[e("div",oe,[e("button",{onClick:t[0]||(t[0]=s=>n.$emit("toggleSidebar")),class:"p-2 mr-2 text-gray-600 rounded-lg cursor-pointer md:hidden hover:text-gray-900 hover:bg-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700 focus:ring-2 focus:ring-gray-100 dark:focus:ring-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},t[6]||(t[6]=[q('<svg aria-hidden="true" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg aria-hidden="true" class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg><span class="sr-only">Toggle sidebar</span>',3)])),e("a",{href:"",onClick:t[1]||(t[1]=C(s=>n.$router.push({name:"home"}),["prevent"])),class:"flex items-center justify-between mr-4"},t[7]||(t[7]=[e("span",{class:"self-center text-xl font-semibold whitespace-nowrap dark:text-white"},"PT.EDO MANDIRI PRATAMA",-1)]))]),e("div",ne,[e("button",{type:"button",onClick:t[2]||(t[2]=(...s)=>d.toggleDropdown&&d.toggleDropdown(...s)),class:"relative p-2 mr-1 text-gray-500 rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"},[t[10]||(t[10]=e("span",{class:"sr-only"},"View notifications",-1)),d.unreadCount>0?(r(),o("svg",se,t[8]||(t[8]=[e("path",{d:"M17.133 12.632v-1.8a5.406 5.406 0 0 0-4.154-5.262.955.955 0 0 0 .021-.106V3.1a1 1 0 0 0-2 0v2.364a.955.955 0 0 0 .021.106 5.406 5.406 0 0 0-4.154 5.262v1.8C6.867 15.018 5 15.614 5 16.807 5 17.4 5 18 5.538 18h12.924C19 18 19 17.4 19 16.807c0-1.193-1.867-1.789-1.867-4.175ZM6 6a1 1 0 0 1-.707-.293l-1-1a1 1 0 0 1 1.414-1.414l1 1A1 1 0 0 1 6 6Zm-2 4H3a1 1 0 0 1 0-2h1a1 1 0 1 1 0 2Zm14-4a1 1 0 0 1-.707-1.707l1-1a1 1 0 1 1 1.414 1.414l-1 1A1 1 0 0 1 18 6Zm3 4h-1a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2ZM8.823 19a3.453 3.453 0 0 0 6.354 0H8.823Z"},null,-1)]))):(r(),o("svg",ae,t[9]||(t[9]=[e("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},null,-1)]))),d.unreadCount>0?(r(),o("div",ie,x(d.unreadCount),1)):c("",!0)]),D(e("div",le,[t[16]||(t[16]=e("div",{class:"block py-2 px-4 text-base font-medium text-center text-gray-700 bg-gray-50 dark:bg-gray-600 dark:text-gray-300 rounded-t-xl"}," Notifikasi ",-1)),e("div",null,[(r(!0),o(B,null,T(u.notificationStore.notifications,(s,y)=>(r(),o("div",{onClick:C(_=>d.handleClickNotification(s),["prevent"]),class:b(["cursor-pointer flex py-3 px-4 border-b hover:bg-gray-700 hover:bg-opacity-20 dark:hover:bg-gray-600 dark:border-gray-600",s.read_at?"":"bg-primary-600 bg-opacity-10 text-white"])},[e("div",ue,[s.avatar_sender?(r(),o("img",{key:0,class:"w-11 h-11 rounded-full",src:s.avatar_sender,alt:""},null,8,ge)):(r(),o("div",he,t[11]||(t[11]=[e("svg",{class:"absolute w-9 h-9 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M11.209 3.816a1 1 0 0 0-1.966.368l.325 1.74a5.338 5.338 0 0 0-2.8 5.762l.276 1.473.055.296c.258 1.374-.228 2.262-.63 2.998-.285.52-.527.964-.437 1.449.11.586.22 1.173.75 1.074l12.7-2.377c.528-.1.418-.685.308-1.27-.103-.564-.636-1.123-1.195-1.711-.606-.636-1.243-1.306-1.404-2.051-.233-1.085-.275-1.387-.303-1.587-.009-.063-.016-.117-.028-.182a5.338 5.338 0 0 0-5.353-4.39l-.298-1.592Z"}),e("path",{"fill-rule":"evenodd",d:"M6.539 4.278a1 1 0 0 1 .07 1.412c-1.115 1.23-1.705 2.605-1.83 4.26a1 1 0 0 1-1.995-.15c.16-2.099.929-3.893 2.342-5.453a1 1 0 0 1 1.413-.069Z","clip-rule":"evenodd"}),e("path",{d:"M8.95 19.7c.7.8 1.7 1.3 2.8 1.3 1.6 0 2.9-1.1 3.3-2.5l-6.1 1.2Z"})],-1)]))),s.read_at?c("",!0):(r(),o("div",ce,t[12]||(t[12]=[e("svg",{"aria-hidden":"true",class:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},null,-1)])))]),e("div",me,[e("div",we,[e("span",ve,x(s.title),1),t[13]||(t[13]=e("br",null,null,-1)),e("span",{innerHTML:s.message,class:"line-clamp-4"},null,8,xe)]),e("div",fe,x(s.created_at),1)])],10,de))),256)),u.notificationStore.notifications.length===0?(r(),o("div",ye,t[14]||(t[14]=[e("div",{class:"pl-3 w-full"},[e("div",{class:"text-gray-500 font-normal text-sm mb-1.5 dark:text-gray-400 min-h-500"}," Belum ada notifikasi terbaru ")],-1)]))):c("",!0)]),L(g,{to:{name:"notification"},class:"block py-2 rounded-xl text-md font-medium text-center text-gray-900 bg-gray-50 hover:bg-gray-100 dark:bg-gray-600 dark:text-white dark:hover:underline"},{default:V(()=>t[15]||(t[15]=[e("div",{class:"inline-flex items-center"}," Lihat semua ",-1)])),_:1})],512),[[E,h.dropdownOpen]]),e("button",{type:"button",onClick:t[3]||(t[3]=(...s)=>u.toggleDarkMode&&u.toggleDarkMode(...s)),class:"p-2 mr-1 text-gray-500 rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"},[t[19]||(t[19]=e("span",{class:"sr-only"},"Toggle Theme",-1)),d.getCurrentTheme()==="dark"?(r(),o("svg",pe,t[17]||(t[17]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5V3m0 18v-2M7.05 7.05 5.636 5.636m12.728 12.728L16.95 16.95M5 12H3m18 0h-2M7.05 16.95l-1.414 1.414M18.364 5.636 16.95 7.05M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"},null,-1)]))):c("",!0),d.getCurrentTheme()==="light"?(r(),o("svg",ke,t[18]||(t[18]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 21a9 9 0 0 1-.5-17.986V3c-.354.966-.5 1.911-.5 3a9 9 0 0 0 9 9c.239 0 .254.018.488 0A9.004 9.004 0 0 1 12 21Z"},null,-1)]))):c("",!0)]),e("button",be,[t[21]||(t[21]=e("span",{class:"sr-only"},"Open user menu",-1)),u.user.profile_picture?(r(),o("img",{key:0,class:"w-8 h-8 rounded-full",src:u.user.profile_picture,alt:""},null,8,_e)):(r(),o("div",Me,t[20]||(t[20]=[e("svg",{class:"absolute w-10 h-10 text-gray-400 -left-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)])))]),e("div",Ce,[e("div",Be,[e("span",$e,x(u.user.name),1),e("span",Se,x(u.user.email),1)]),e("ul",Le,[e("li",null,[e("a",{onClick:t[4]||(t[4]=C(s=>d.onClickProfile(),["prevent"])),class:"flex items-center py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer"},t[22]||(t[22]=[e("svg",{class:"mr-2 w-5 h-5 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{"fill-rule":"evenodd",d:"M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z","clip-rule":"evenodd"})],-1),W(" My Profile")]))])]),e("ul",He,[e("li",null,[e("a",{onClick:t[5]||(t[5]=C((...s)=>d.logout&&d.logout(...s),["prevent"])),class:"block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white cursor-pointer"},"Sign out")])])])])])])}const ze=Y(ee,[["render",Te]]),je={class:"flex flex-col justify-between h-[92%] bg-white dark:bg-gray-800"},Ae={class:"flex-1 overflow-y-auto bg-white dark:bg-gray-800 min-h-full p-3"},De={key:0,class:"p-3 flex justify-between items-center"},Ee={class:"space-y-1"},Ne={key:0},Ze=["onClick"],Oe=["innerHTML"],Pe={key:0,class:"flex-1 ml-3 whitespace-nowrap"},Ve={key:1},We=["onClick"],Ie=["innerHTML"],Re={key:0,class:"flex-1 ml-3 text-left whitespace-nowrap"},Fe=["onClick"],Ue={key:0,class:""},Xe={class:"flex-1 ml-3 whitespace-nowrap"},Ye={key:1},qe={class:"text-xs flex items-center p-2 text-base rounded-lg text-gray-400 dark:text-white cursor-not-allowed"},Je={key:0,class:"ms-3"},Ke={key:0,class:"flex items-end border-t border-gray-200 dark:border-gray-700 p-3 bg-white dark:bg-gray-800"},Ge={key:0,class:"w-6 h-6 text-gray-800 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Qe={key:1,class:"w-6 h-6 text-gray-800 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},et={__name:"Sidebar",props:{isOpen:Boolean,minify:Boolean},emits:["close","update:minify"],setup(n,{emit:t}){const f=I(),u=R(),h=N(),d=v(null),g=v([]),s=t;J(()=>{window.removeEventListener("resize",_)}),F(()=>{g.value=h.getMenuInduk,_(),window.addEventListener("resize",_)});let y=v(window.innerWidth<=768);const _=()=>{y.value=window.innerWidth<=768,console.log(y.value,"isMobile"),y.value==!0&&S(!1)},M=m=>f.path===m,z=m=>m.some(a=>a.url===f.path),j=m=>{d.value=d.value===m?null:m,S(!1)},$=m=>{u.push(m),s("close")},S=m=>{s("update:minify",m)};return(m,a)=>(r(),o(B,null,[A(y)&&n.isOpen?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:a[0]||(a[0]=l=>m.$emit("close"))})):c("",!0),e("aside",{class:b(["fixed top-0 left-0 h-full w-3/4 z-40 bg-white border-r border-gray-200 dark:border-gray-700 transition-transform duration-300 bg-white dark:bg-gray-800",n.isOpen?"translate-x-0":"-translate-x-full","md:static md:translate-x-0 md:block",n.isOpen?"block":"hidden md:block",n.minify?"md:w-16":"md:w-64"])},[e("div",je,[e("div",Ae,[A(y)?(r(),o("div",De,[e("div",{onClick:a[1]||(a[1]=l=>{m.$router.push({name:"home"}),s("close")}),class:"flex items-center justify-between mr-4"},a[4]||(a[4]=[e("span",{class:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white"},"ecos",-1),e("small",{class:"self-end ml-1 dark:text-white"},"v.1.0",-1)])),(r(),o("svg",{onClick:a[2]||(a[2]=l=>s("close")),class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},a[5]||(a[5]=[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18 17.94 6M18 18 6.06 6"},null,-1)])))])):c("",!0),e("ul",Ee,[(r(!0),o(B,null,T(g.value,l=>(r(),o(B,{key:l.id},[l.children?(r(),o("li",Ve,[e("button",{onClick:i=>j(l.name),class:b(["flex items-center p-2 w-full text-sm font-medium rounded-lg transition duration-75 group",z(l.children)?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"])},[e("span",{innerHTML:l.icon},null,8,Ie),n.minify?c("",!0):(r(),o("span",Re,x(l.name),1)),n.minify?c("",!0):(r(),o("svg",{key:1,"aria-hidden":"true",class:b(["w-6 h-6 transition-transform",{"rotate-180":d.value===l.name}]),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},a[6]||(a[6]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))],10,We),e("ul",{class:b([{block:d.value===l.name,hidden:d.value!==l.name},"py-2 space-y-1"])},[(r(!0),o(B,null,T(l.children,i=>(r(),o("li",{key:i.name},[e("a",{onClick:C(w=>$(i.url),["prevent"]),class:b({"flex items-center p-2 w-full font-medium rounded-lg text-sm transition duration-75 cursor-pointer":!0,"pl-11 text-left":!n.minify,"pl-2 text-right":n.minify,"bg-gray-100 dark:bg-gray-700 text-primary-500":M(i.url),"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700":!M(i.url)})},[n.minify?(r(),o("span",Ue,[e("strong",null,x(i.name.substring(0,2).toUpperCase()),1)])):c("",!0),e("span",Xe,x(n.minify?"":i.name),1),D(e("span",{class:"inline-flex justify-center items-center w-5 h-5 text-xs font-semibold rounded-full text-white bg-red-600 dark:bg-red-500"},x(i.badge),513),[[E,i.badge]])],10,Fe)]))),128))],2)])):(r(),o("li",Ne,[e("a",{onClick:C(i=>$(l.url),["prevent"]),class:b(["flex items-center p-2 text-sm font-medium rounded-lg cursor-pointer",M(l.url)?"bg-gray-100 dark:bg-gray-700 text-primary-500":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700"])},[e("span",{innerHTML:l.icon},null,8,Oe),n.minify?c("",!0):(r(),o("span",Pe,x(l.name),1)),n.minify?c("",!0):D((r(),o("span",{key:1,class:"inline-flex justify-center items-center w-5 h-5 text-xs font-semibold rounded-full text-white bg-red-600 dark:bg-red-500"},x(l.badge),513)),[[E,l.badge]])],10,Ze)]))],64))),128))]),g.value.length===0?(r(),o("ul",Ye,[e("li",null,[e("a",qe,[a[7]||(a[7]=e("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14v3m-3-6V7a3 3 0 1 1 6 0v4m-8 0h10a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1Z"})],-1)),n.minify?c("",!0):(r(),o("span",Je," Anda tidak memiliki otoritas"))])])])):c("",!0)]),A(y)?c("",!0):(r(),o("div",Ke,[e("button",{onClick:a[3]||(a[3]=l=>S(!n.minify)),class:"w-full flex justify-center"},[n.minify?(r(),o("svg",Qe,a[9]||(a[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m7 16 4-4-4-4m6 8 4-4-4-4"},null,-1)]))):(r(),o("svg",Ge,a[8]||(a[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m17 16-4-4 4-4m-6 8-4-4 4-4"},null,-1)])))])]))])],2)],64))}},tt={class:"flex bg-gray-100 dark:bg-gray-900 w-full p-3","aria-label":"Breadcrumb"},rt={class:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"},ot={class:"inline-flex items-center"},nt={class:"flex items-center"},st={key:0,class:"ms-1 text-sm font-normal text-gray-600 hover:text-primary-600 md:ms-2 dark:text-gray-300 dark:hover:text-white"},at={key:1,class:"ms-1 text-sm font-normal text-gray-400 md:ms-2 dark:text-gray-700"},it={__name:"Breadcrumb",props:{minify:Boolean},setup(n){const t=I();R();const f=K(()=>t.matched.filter(u=>{var h;return(h=u.meta)==null?void 0:h.breadcrumb}).map(u=>({label:u.meta.breadcrumb,path:u.path.includes(":")?t.fullPath:u.path})));return(u,h)=>{const d=Z("RouterLink");return r(),o("div",tt,[e("ol",rt,[e("li",ot,[L(d,{to:{name:"home"},class:"inline-flex items-center text-sm font-normal text-gray-700 hover:text-primary-600 dark:text-gray-300 dark:hover:text-white"},{default:V(()=>h[0]||(h[0]=[e("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),W(" Home ")])),_:1})]),(r(!0),o(B,null,T(f.value,(g,s)=>(r(),o("li",{key:s},[e("div",nt,[h[1]||(h[1]=e("svg",{class:"rtl:rotate-180 w-3 h-3 text-gray-400 dark:text-gray-300 mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"m1 9 4-4-4-4"})],-1)),s!==f.value.length-1?(r(),o("p",st,x(g.label),1)):(r(),o("span",at,x(g.label),1))])]))),128))])])}}},lt={class:"flex flex-col h-dvh w-full bg-gray-100 dark:bg-gray-900"},dt={class:"flex flex-1 overflow-hidden"},ut={class:"flex-1 p-4 pt-0 overflow-y-auto"},ct={__name:"BaseLayout",emits:["showToast"],setup(n,{emit:t}){const f=t,u=v(!1);N();const h=v(!1),d=v(sessionStorage.getItem("showFloatingButton")!==null?sessionStorage.getItem("showFloatingButton")==="true":!0);v(null);const g=v({x:typeof window<"u"?Math.max(0,window.innerWidth-70):20,y:typeof window<"u"?Math.max(0,window.innerHeight-100):100}),s=v(!1),y=v(!1),_=v({x:0,y:0}),M=v({x:0,y:0}),z=v(window.innerWidth<=768),j=()=>{h.value=!h.value},$=()=>{z.value=window.innerWidth<=768,g.value.x>window.innerWidth-50&&(g.value.x=Math.max(0,window.innerWidth-70)),g.value.y>window.innerHeight-50&&(g.value.y=Math.max(0,window.innerHeight-100))};F(()=>{P().fetchNotifications(),window.addEventListener("resize",$);const i=sessionStorage.getItem("showFloatingButton");d.value=i!==null?i==="true":!0;const w=sessionStorage.getItem("floatingButtonPosition");if(w){const k=JSON.parse(w);g.value={x:Math.max(0,Math.min(window.innerWidth-50,k.x)),y:Math.max(0,Math.min(window.innerHeight-50,k.y))}}else g.value={x:Math.max(0,window.innerWidth-70),y:Math.max(0,window.innerHeight-100)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),document.addEventListener("touchmove",a,{passive:!1}),document.addEventListener("touchend",l)}),G(()=>{window.removeEventListener("resize",$),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),document.removeEventListener("touchmove",a,{passive:!1}),document.removeEventListener("touchend",l)});const S=(i,w,k=3e3,p="")=>{f("showToast",{message:i,type:w,timeout:k,title:p})},m=i=>{u.value=i},a=i=>{if(!s.value)return;i.preventDefault();const w=i.type.includes("touch")?i.touches[0].clientX:i.clientX,k=i.type.includes("touch")?i.touches[0].clientY:i.clientY;let p=w-_.value.x,H=k-_.value.y;const U=50,X=50;p=Math.max(0,Math.min(window.innerWidth-U,p)),H=Math.max(0,Math.min(window.innerHeight-X,H)),Math.sqrt(Math.pow(p-M.value.x,2)+Math.pow(H-M.value.y,2))>5&&(y.value=!0),g.value={x:p,y:H}},l=()=>{s.value&&(s.value=!1,sessionStorage.setItem("floatingButtonPosition",JSON.stringify(g.value)))};return(i,w)=>{const k=Z("router-view");return r(),o("div",lt,[L(ze,{onToggleSidebar:j}),e("div",dt,[L(et,{"is-open":h.value,minify:u.value,"onUpdate:minify":w[0]||(w[0]=p=>m(p)),onClose:w[1]||(w[1]=p=>h.value=!1)},null,8,["is-open","minify"]),e("div",{class:b([["flex flex-col flex-1 min-w-0"],"overflow-hidden"])},[L(it),e("main",ut,[(r(),Q(k,{key:i.$route.fullPath,onShowToast:S}))])])]),c("",!0),w[4]||(w[4]=e("div",{id:"tooltip-floating",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 rounded-lg shadow-xs opacity-0 tooltip dark:bg-gray-700",style:{background:"rgba(30, 41, 59, 0.6)","backdrop-filter":"blur(8px)",border:"1px solid rgba(255,255,255,0.15)"}}," Layanan Koas ",-1))])}}};export{ct as default};
