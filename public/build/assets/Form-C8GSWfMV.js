import{r as j,C as A,o as b,c as g,a as e,e as u,j as m,k as f,F,l as P,t as i,s as D,x as W,y as X,O as Y,A as Z,G as N,B as G,f as ee,i as te,h as _,b as re}from"./app-yrMyzsrH.js";const ae={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},se={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col"},oe={class:"p-4 border-b flex justify-between items-center bg-blue-50 rounded-t-lg"},le={class:"flex-1 overflow-y-auto p-4"},de={class:"mb-4"},ne={key:0,class:"text-center py-8 text-gray-500"},ie={class:"font-bold text-lg text-gray-700 border-b pb-1 mb-3 sticky top-0 bg-white z-10"},ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},me=["onClick"],be={class:"flex justify-between items-start"},ge={class:"font-semibold text-sm"},ce={key:0,class:"text-blue-600"},pe={class:"text-xs text-gray-500 mt-1"},ye={class:"text-xs font-mono mt-1 font-bold text-gray-700"},xe={class:"p-4 border-t bg-gray-50 rounded-b-lg flex justify-between items-center"},ve={class:"text-sm font-semibold text-gray-600"},fe={class:"flex gap-3"},ke=["disabled"],he={__name:"InternalItemSelector",props:{show:Boolean,items:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(T,{emit:E}){const M=T,C=E,I=j(""),v=j([]),U=d=>{const l=v.value.findIndex(p=>p.id===d.id);l>=0?v.value.splice(l,1):v.value.push(d)},c=d=>v.value.some(l=>l.id===d.id),y=A(()=>{if(!I.value)return M.items;const d=I.value.toLowerCase();return M.items.filter(l=>l.name.toLowerCase().includes(d)||l.code&&l.code.toLowerCase().includes(d))}),r=A(()=>{const d={};return y.value.forEach(l=>{var V;const p=((V=l.category)==null?void 0:V.name)||"Uncategorized";d[p]||(d[p]=[]),d[p].push(l)}),d}),O=d=>new Intl.NumberFormat("id").format(d),q=()=>{const d=v.value.map(l=>{var p;return{item_id:l.id,item_code:l.code||"",item_name:l.name,area:((p=l.category)==null?void 0:p.name)||null,quantity:1,unit_price:l.price||0,discount:0}});C("confirm",d),v.value=[]};return(d,l)=>T.show?(b(),g("div",ae,[e("div",se,[e("div",oe,[l[3]||(l[3]=e("h2",{class:"text-xl font-bold text-blue-800"},"Batch Item Selection (Katalog)",-1)),e("button",{onClick:l[0]||(l[0]=p=>d.$emit("close")),class:"text-gray-500 hover:text-gray-700 text-2xl"},"Ã—")]),e("div",le,[e("div",de,[u(e("input",{"onUpdate:modelValue":l[1]||(l[1]=p=>I.value=p),placeholder:"Search items...",class:"w-full border px-4 py-2 rounded shadow-sm focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[m,I.value]])]),Object.keys(r.value).length===0?(b(),g("div",ne," No items found. ")):f("",!0),(b(!0),g(F,null,P(r.value,(p,V)=>(b(),g("div",{key:V,class:"mb-6"},[e("h3",ie,i(V||"Uncategorized"),1),e("div",ue,[(b(!0),g(F,null,P(p,k=>(b(),g("div",{key:k.id,onClick:R=>U(k),class:D(["border rounded-lg p-3 cursor-pointer transition-all",c(k)?"bg-blue-100 border-blue-500 ring-1 ring-blue-500":"hover:bg-gray-50 border-gray-200"])},[e("div",be,[e("div",ge,i(k.name),1),c(k)?(b(),g("div",ce,"âœ“")):f("",!0)]),e("div",pe,i(k.code||"-"),1),e("div",ye," Rp "+i(O(k.price)),1)],10,me))),128))])]))),128))]),e("div",xe,[e("div",ve,i(v.value.length)+" key items selected ",1),e("div",fe,[e("button",{onClick:l[2]||(l[2]=p=>d.$emit("close")),class:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 transition-colors"}," Cancel "),e("button",{onClick:q,class:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors shadow-sm font-medium",disabled:v.value.length===0}," Add Selected Items ",8,ke)])])])])):f("",!0)}},we={class:"p-4 md:p-6 max-w-7xl mx-auto"},_e={class:"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},Ce={class:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600"},Ie={class:"text-lg font-semibold text-gray-900 dark:text-white"},Ve={class:"grid gap-4 mb-4 sm:grid-cols-3"},$e={key:0,class:"text-xs text-gray-500 mt-1 dark:text-gray-400"},je={key:0,class:"text-red-600 text-xs mt-1"},Ue={class:"md:col-span-2"},qe={key:0,class:"text-red-600 text-xs mt-1"},Se={class:"md:col-span-3"},Ne={class:"mt-8 mb-4"},Ae={class:"flex justify-between items-end mb-4"},Me={key:0,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm dark:bg-red-900/30 dark:border-red-800 dark:text-red-400"},Oe={class:"space-y-4"},Be={class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end"},De={class:"md:col-span-3 relative"},Fe=["onUpdate:modelValue","onFocus"],Pe={key:0,class:"absolute top-full left-0 right-0 mt-1 border border-gray-200 bg-white rounded-lg z-20 max-h-48 overflow-y-auto shadow-xl dark:bg-gray-700 dark:border-gray-600"},Te=["onClick"],Ee={class:"font-semibold text-gray-800 dark:text-white"},Le={class:"text-xs text-gray-500 dark:text-gray-400"},ze={class:"md:col-span-2"},Re=["onUpdate:modelValue"],He={class:"md:col-span-2"},Ge=["onUpdate:modelValue"],Qe={class:"md:col-span-1"},Ke=["onUpdate:modelValue"],Je={class:"md:col-span-2"},We=["onUpdate:modelValue"],Xe={class:"md:col-span-1"},Ye=["onUpdate:modelValue"],Ze={class:"md:col-span-1 flex items-center justify-end h-full py-2.5"},et=["onClick"],tt={class:"text-right mt-2 text-sm text-gray-600 dark:text-gray-300 font-medium"},rt={class:"border-t border-gray-200 mt-6 pt-6 dark:border-gray-700"},at={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},st={class:"space-y-4"},ot={class:"space-y-4 md:col-span-1"},lt={class:"p-3 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 italic dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"},dt={class:"bg-gray-50 p-6 rounded-lg border border-gray-200 h-fit dark:bg-gray-700/50 dark:border-gray-600"},nt={class:"flex justify-between mb-2 text-sm text-gray-600 dark:text-gray-400"},it={key:0,class:"flex justify-between mb-2 text-sm text-gray-600 dark:text-gray-400"},ut={class:"text-red-500"},mt={key:1,class:"flex justify-between mb-2 text-sm text-gray-600 dark:text-gray-400"},bt={key:2,class:"flex justify-between mb-2 text-sm text-gray-600 dark:text-gray-400"},gt={class:"border-t border-gray-300 my-3 pt-3 flex justify-between items-center dark:border-gray-500"},ct={class:"text-2xl font-bold text-primary-600 dark:text-primary-400"},pt={class:"mt-6"},yt={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 mt-8 justify-end"},vt={__name:"Form",setup(T){const E=W(),M=X(),C=E.params.id,I=j(null),v=j([]),U=j(!1),c=j({}),y=Y({}),r=j({invoice_number:"",invoice_date:new Date().toISOString().split("T")[0],currency_name:"Indonesian Rupiah",notes:"",terbilang:"",prepared_by:"",approved_by:"",customer_name:"",customer_address:"",payment_terms:"",expedition:"",po_number:"",discount:0,ppn_percent:0,other_charges:0,items:[{item_id:null,item_code:"",item_name:"",area:"",quantity:1,unit_price:0,discount:0}]}),O=A(()=>{const t=r.value.items.reduce((n,o)=>n+((o.quantity||0)*(o.unit_price||0)-(o.discount||0)),0)-(r.value.discount||0),s=t*(r.value.ppn_percent||0)/100;return t+s+(r.value.other_charges||0)}),q=A(()=>r.value.items.reduce((a,t)=>a+((t.quantity||0)*(t.unit_price||0)-(t.discount||0)),0)),d=a=>new Intl.NumberFormat("id").format(a),l=A(()=>p(Math.round(O.value)));function p(a){if(!a&&a!==0)return"";if(a=Math.round(a),a<0&&(a=Math.abs(a)),a===0)return"nol rupiah";const t=["","satu","dua","tiga","empat","lima","enam","tujuh","delapan","sembilan"],s=["","","dua puluh","tiga puluh","empat puluh","lima puluh","enam puluh","tujuh puluh","delapan puluh","sembilan puluh"],n=["sepuluh","sebelas","dua belas","tiga belas","empat belas","lima belas","enam belas","tujuh belas","delapan belas","sembilan belas"],o=["","ribu","juta","milyar"];function L(w){if(w===0)return"";let x="";const z=Math.floor(w/100),B=Math.floor(w%100/10),S=w%10;return z>0&&(z===1?x+="seratus":x+=t[z]+" ratus"),B===0&&S>0?(x&&(x+=" "),x+=t[S]):B===1?(x&&(x+=" "),x+=n[S]):B>1&&(x&&(x+=" "),x+=s[B],S>0&&(x+=" "+t[S])),x}let h=[],$=0;for(;a>0&&$<o.length;){const w=a%1e3;if(w>0){let x=L(w);$===1&&w===1?h.unshift("seribu"):$===2&&w===1?h.unshift("satu juta"):$===3&&w===1?h.unshift("satu milyar"):o[$]?h.unshift(x+" "+o[$]):h.unshift(x)}a=Math.floor(a/1e3),$++}return h.join(" ")+" rupiah"}const V=async()=>{if(c.value={},r.value.invoice_date||(c.value.invoice_date="Invoice Date is required"),(!r.value.customer_name||r.value.customer_name.trim()==="")&&(c.value.customer_name="Customer name is required"),!r.value.items||r.value.items.length===0?c.value.items="At least one item is required":r.value.items.filter(h=>!h.item_id||!h.quantity||!h.unit_price).length>0&&(c.value.items="Please fill in: Item Selection, Quantity, and Price for all items"),Object.keys(c.value).length>0){window.scrollTo({top:0,behavior:"smooth"}),alert("âŒ Please fill in all required fields (marked with *)");return}const a=q.value,t=a-(r.value.discount||0),s=t*(r.value.ppn_percent||0)/100,n=t+s+(r.value.other_charges||0),o={...r.value,invoice_date:H(r.value.invoice_date),subtotal:a,discount:r.value.discount||0,ppn_percent:r.value.ppn_percent||0,ppn_amount:s,other_charges:r.value.other_charges||0,total:n,terbilang:p(Math.round(n))};C?await N.put(`invoices/${C}`,o):await N.post("invoices",{...o,invoice_number:r.value.invoice_number||null}),M.push("/app/invoices/invoices")},k=a=>{const t=(y[a]||"").toLowerCase();return t?v.value.filter(s=>s.name.toLowerCase().includes(t)||s.code&&s.code.toLowerCase().includes(t)).slice(0,10):[]},R=(a,t)=>{var s;r.value.items[a].item_id=t.id,r.value.items[a].item_code=t.code||"",r.value.items[a].item_name=t.name,r.value.items[a].area=((s=t.category)==null?void 0:s.name)||"",r.value.items[a].unit_price=t.price||0,r.value.items[a].quantity===1&&(r.value.items[a].quantity=t.quantity||1),y[a]=""},Q=()=>{const a=r.value.items.length;r.value.items.push({item_id:null,item_code:"",item_name:"",area:"",quantity:1,unit_price:0,discount:0}),y[a]=""},K=a=>{r.value.items.length===1&&!r.value.items[0].item_id&&!r.value.items[0].item_name&&(r.value.items=[]),a.forEach(t=>{r.value.items.push(t)}),U.value=!1},J=a=>{r.value.items.splice(a,1);const t={};Object.keys(y).forEach(s=>{const n=parseInt(s);n<a?t[n]=y[n]:n>a&&(t[n-1]=y[n])}),Object.keys(y).forEach(s=>delete y[s]),Object.assign(y,t)},H=a=>a?a.includes("T")?a.split("T")[0]:a:"";return Z(async()=>{try{const a=await N.get("items?per_page=500");v.value=Array.isArray(a.data)?a.data:a.data.data||a.data}catch(a){console.warn("Could not load master items:",a)}if(C){const a=await N.get(`invoices/${C}`);a.invoice_date&&(a.invoice_date=H(a.invoice_date)),r.value=a}else try{const a=await N.get("invoices/next-number");I.value=a.next_number,r.value.invoice_number=a.next_number}catch(a){console.warn("Could not fetch next invoice number:",a)}}),(a,t)=>(b(),g("div",we,[e("div",_e,[e("div",Ce,[e("h3",Ie,i(G(C)?"Edit Invoice":"New Invoice"),1)]),t[47]||(t[47]=ee('<div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-2 dark:bg-blue-900/30 dark:border-blue-800"><div class="text-sm dark:text-gray-300"><span class="font-semibold">Note: <span class="text-red-600 font-bold text-lg">*</span> = Required Fields</span><p class="text-xs text-gray-600 mt-1 dark:text-gray-400">Ensure all marked fields are filled before saving.</p></div></div>',1)),e("form",{onSubmit:te(V,["prevent"])},[e("div",Ve,[e("div",null,[t[17]||(t[17]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Invoice #",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.value.invoice_number=s),readonly:!0,disabled:"",placeholder:"Auto-generated",class:"bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400"},null,512),[[m,r.value.invoice_number]]),!G(C)&&I.value?(b(),g("div",$e," Next: "+i(I.value),1)):f("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[_("Invoice Date "),e("span",{class:"text-red-600 font-bold"},"*")],-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.value.invoice_date=s),type:"date",required:"",class:D(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",c.value.invoice_date?"border-red-600 bg-red-50 dark:border-red-500 dark:bg-red-900/30":"border-gray-300"])},null,2),[[m,r.value.invoice_date]]),c.value.invoice_date?(b(),g("div",je,i(c.value.invoice_date),1)):f("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Currency",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.currency_name=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.currency_name]])]),e("div",Ue,[t[20]||(t[20]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[_("Customer "),e("span",{class:"text-red-600 font-bold"},"*")],-1)),u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.customer_name=s),required:"",class:D(["bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",c.value.customer_name?"border-red-600 bg-red-50":"border-gray-300"]),placeholder:"Customer Name"},null,2),[[m,r.value.customer_name]]),c.value.customer_name?(b(),g("div",qe,i(c.value.customer_name),1)):f("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"PO Number",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.po_number=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.po_number]])]),e("div",Se,[t[22]||(t[22]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Address",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.value.customer_address=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Full Address"},null,512),[[m,r.value.customer_address]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Payment Terms",-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.payment_terms=s),placeholder:"e.g. COD, Net 30",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.payment_terms]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Expedition",-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.expedition=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.expedition]])])]),e("div",Ne,[e("div",Ae,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},[_("Items "),e("span",{class:"text-red-600"},"*")],-1)),e("button",{type:"button",onClick:t[8]||(t[8]=s=>U.value=!0),class:"text-sm bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors duration-200"},t[25]||(t[25]=[e("span",null,"ðŸ“š",-1),_(" Open Catalog ")]))]),c.value.items?(b(),g("div",Me," âš ï¸ "+i(c.value.items),1)):f("",!0),e("div",Oe,[(b(!0),g(F,null,P(r.value.items,(s,n)=>(b(),g("div",{key:n,class:"p-4 border border-gray-200 rounded-lg bg-gray-50/50 dark:bg-gray-700/50 dark:border-gray-600"},[e("div",Be,[e("div",De,[t[27]||(t[27]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},[_("Item "),e("span",{class:"text-red-600"},"*")],-1)),u(e("input",{"onUpdate:modelValue":o=>y[n]=o,type:"text",placeholder:"Search item...",onFocus:o=>y[n]=y[n]||"",class:D(["bg-white border text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white",!s.item_id&&Object.keys(c.value).length>0?"border-red-500":"border-gray-300"])},null,42,Fe),[[m,y[n]]]),y[n]&&k(n).length>0?(b(),g("div",Pe,[(b(!0),g(F,null,P(k(n),o=>(b(),g("div",{key:o.id,onClick:L=>R(n,o),class:"px-3 py-2 hover:bg-blue-50 cursor-pointer text-sm border-b border-gray-100 last:border-b-0 dark:border-gray-600 dark:hover:bg-gray-600"},[e("div",Ee,i(o.name),1),e("div",Le,i(o.code)+" â€¢ "+i(o.unit)+" â€¢ Rp "+i(d(o.price)),1)],8,Te))),128))])):f("",!0)]),e("div",ze,[t[28]||(t[28]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},"Area",-1)),u(e("input",{"onUpdate:modelValue":o=>s.area=o,class:"bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"},null,8,Re),[[m,s.area]])]),e("div",He,[t[29]||(t[29]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},"Code",-1)),u(e("input",{"onUpdate:modelValue":o=>s.item_code=o,class:"bg-gray-100 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white",readonly:""},null,8,Ge),[[m,s.item_code]])]),e("div",Qe,[t[30]||(t[30]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},[_("Qty "),e("span",{class:"text-red-600"},"*")],-1)),u(e("input",{"onUpdate:modelValue":o=>s.quantity=o,type:"number",required:"",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"},null,8,Ke),[[m,s.quantity,void 0,{number:!0}]])]),e("div",Je,[t[31]||(t[31]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},[_("Price "),e("span",{class:"text-red-600"},"*")],-1)),u(e("input",{"onUpdate:modelValue":o=>s.unit_price=o,type:"number",required:"",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"},null,8,We),[[m,s.unit_price,void 0,{number:!0}]])]),e("div",Xe,[t[32]||(t[32]=e("label",{class:"block mb-1 text-xs font-medium text-gray-700 dark:text-gray-300"},"Disc",-1)),u(e("input",{"onUpdate:modelValue":o=>s.discount=o,type:"number",class:"bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"},null,8,Ye),[[m,s.discount,void 0,{number:!0}]])]),e("div",Ze,[e("button",{type:"button",onClick:o=>J(n),class:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/50 transition-colors"},t[33]||(t[33]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,et)])]),e("div",tt," Subtotal: "+i(d((s.quantity||0)*(s.unit_price||0)-(s.discount||0))),1)]))),128))]),e("button",{type:"button",onClick:Q,class:"mt-4 text-primary-600 text-sm font-medium hover:text-primary-800 flex items-center gap-1 dark:text-primary-400 dark:hover:text-primary-300"},t[34]||(t[34]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),_(" Add Single Item ")]))]),re(he,{show:U.value,items:v.value,onClose:t[9]||(t[9]=s=>U.value=!1),onConfirm:K},null,8,["show","items"]),e("div",rt,[e("div",at,[e("div",st,[e("div",null,[t[35]||(t[35]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Global Discount",-1)),u(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>r.value.discount=s),type:"number",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.discount,void 0,{number:!0}]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"PPN %",-1)),u(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>r.value.ppn_percent=s),type:"number",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.ppn_percent,void 0,{number:!0}]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Other Charges",-1)),u(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>r.value.other_charges=s),type:"number",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.other_charges,void 0,{number:!0}]])])]),e("div",ot,[e("div",null,[t[38]||(t[38]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Prepared By",-1)),u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>r.value.prepared_by=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.prepared_by]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Approved By",-1)),u(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>r.value.approved_by=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,r.value.approved_by]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Terbilang",-1)),e("div",lt,i(l.value),1)])]),e("div",dt,[e("div",nt,[t[41]||(t[41]=e("span",null,"Subtotal",-1)),e("span",null,i(d(q.value)),1)]),r.value.discount>0?(b(),g("div",it,[t[42]||(t[42]=e("span",null,"Discount",-1)),e("span",ut,"- "+i(d(r.value.discount)),1)])):f("",!0),r.value.ppn_percent>0?(b(),g("div",mt,[e("span",null,"PPN ("+i(r.value.ppn_percent)+"%)",1),e("span",null,"+ "+i(d((q.value-r.value.discount)*r.value.ppn_percent/100)),1)])):f("",!0),r.value.other_charges>0?(b(),g("div",bt,[t[43]||(t[43]=e("span",null,"Other Charges",-1)),e("span",null,"+ "+i(d(r.value.other_charges)),1)])):f("",!0),e("div",gt,[t[44]||(t[44]=e("span",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Total",-1)),e("span",ct,i(d(O.value)),1)])])])]),e("div",pt,[t[45]||(t[45]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Notes",-1)),u(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=s=>r.value.notes=s),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:"3"},null,512),[[m,r.value.notes]])]),e("div",yt,[e("button",{type:"button",onClick:t[16]||(t[16]=s=>a.$router.push("/app/invoices/invoices")),class:"text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel "),t[46]||(t[46]=e("button",{type:"submit",class:"text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})]),_(" Save Invoice ")],-1))])],32)])]))}};export{vt as default};
