import{_ as f,G as i,o as l,c as n,a as e,t as y,i as c,h as m,e as s,j as a,K as k,f as x,J as h,v as b}from"./app-yrMyzsrH.js";const w={name:"CustomerForm",data(){return{loading:!1,isEdit:!1,customerId:null,form:{code:"",name:"",email:"",phone:"",contact_person:"",contact_phone:"",tax_id:"",payment_terms:"net_30",credit_limit:0,address:"",notes:"",is_active:!0}}},mounted(){this.customerId=this.$route.params.id,this.isEdit=!!this.customerId,this.isEdit&&this.loadCustomer()},methods:{async loadCustomer(){this.loading=!0;try{const{data:d}=await i.get(`/customers/${this.customerId}`);this.form={...d,is_active:!!d.is_active}}catch(d){console.error("Failed to load customer:",d),this.$emit("showToast","Failed to load customer","error"),this.$router.push("/app/invoices/customers")}finally{this.loading=!1}},async submit(){var d,r;this.loading=!0;try{this.isEdit?(await i.put(`/customers/${this.customerId}`,this.form),this.$emit("showToast","✅ Customer updated successfully","success")):(await i.post("/customers",this.form),this.$emit("showToast","✅ Customer created successfully","success")),this.$router.push("/app/invoices/customers")}catch(u){const p=((r=(d=u.response)==null?void 0:d.data)==null?void 0:r.message)||"Failed to save customer";this.$emit("showToast",p,"error")}finally{this.loading=!1}}}},v={class:"relative sm:p-4 xs:p-0 w-full h-full md:h-auto"},C={class:"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},V={class:"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600"},N={class:"text-lg font-semibold text-gray-900 dark:text-white"},U={class:"grid gap-4 mb-4 sm:grid-cols-2"},E={class:"flex items-center ps-3 border border-gray-200 rounded-sm dark:border-gray-700 h-[42px]"},D={class:"sm:col-span-2"},S={class:"sm:col-span-2"},T={class:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-5"},B=["disabled"],_={class:"mr-1 -ml-1 w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},j={class:"mr-1 -ml-1 w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"};function M(d,r,u,p,t,g){return l(),n("div",null,[e("div",v,[e("div",C,[e("div",V,[e("h3",N,y(t.isEdit?"Edit Customer":"New Customer"),1)]),e("form",{onSubmit:r[13]||(r[13]=c((...o)=>g.submit&&g.submit(...o),["prevent"]))},[e("div",U,[e("div",null,[r[14]||(r[14]=e("label",{for:"code",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[m(" Customer Code "),e("span",{class:"text-gray-400 text-xs"},"(Auto)")],-1)),s(e("input",{type:"text",id:"code","onUpdate:modelValue":r[0]||(r[0]=o=>t.form.code=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Leave empty to auto-generate"},null,512),[[a,t.form.code]])]),e("div",null,[r[15]||(r[15]=e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[m(" Customer Name "),e("span",{class:"text-red-500"},"*")],-1)),s(e("input",{type:"text",id:"name","onUpdate:modelValue":r[1]||(r[1]=o=>t.form.name=o),required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"PT. ABC Company"},null,512),[[a,t.form.name]])]),e("div",null,[r[16]||(r[16]=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),s(e("input",{type:"email",id:"email","onUpdate:modelValue":r[2]||(r[2]=o=>t.form.email=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"customer@email.com"},null,512),[[a,t.form.email]])]),e("div",null,[r[17]||(r[17]=e("label",{for:"phone",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Phone",-1)),s(e("input",{type:"text",id:"phone","onUpdate:modelValue":r[3]||(r[3]=o=>t.form.phone=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"+62 812 3456 7890"},null,512),[[a,t.form.phone]])]),e("div",null,[r[18]||(r[18]=e("label",{for:"contact_person",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Contact Person",-1)),s(e("input",{type:"text",id:"contact_person","onUpdate:modelValue":r[4]||(r[4]=o=>t.form.contact_person=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"John Doe"},null,512),[[a,t.form.contact_person]])]),e("div",null,[r[19]||(r[19]=e("label",{for:"contact_phone",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Contact Phone",-1)),s(e("input",{type:"text",id:"contact_phone","onUpdate:modelValue":r[5]||(r[5]=o=>t.form.contact_phone=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"+62 812 3456 7890"},null,512),[[a,t.form.contact_phone]])]),e("div",null,[r[20]||(r[20]=e("label",{for:"tax_id",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Tax ID (NPWP)",-1)),s(e("input",{type:"text",id:"tax_id","onUpdate:modelValue":r[6]||(r[6]=o=>t.form.tax_id=o),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"00.000.000.0-000.000"},null,512),[[a,t.form.tax_id]])]),e("div",null,[r[22]||(r[22]=e("label",{for:"payment_terms",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},[m("Payment Terms "),e("span",{class:"text-red-500"},"*")],-1)),s(e("select",{id:"payment_terms","onUpdate:modelValue":r[7]||(r[7]=o=>t.form.payment_terms=o),required:"",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"},r[21]||(r[21]=[x('<option value="cash">Cash</option><option value="net_7">Net 7 Days</option><option value="net_14">Net 14 Days</option><option value="net_30">Net 30 Days</option><option value="net_45">Net 45 Days</option><option value="net_60">Net 60 Days</option>',6)]),512),[[k,t.form.payment_terms]])]),e("div",null,[r[23]||(r[23]=e("label",{for:"credit_limit",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Credit Limit",-1)),s(e("input",{type:"number",id:"credit_limit","onUpdate:modelValue":r[8]||(r[8]=o=>t.form.credit_limit=o),step:"0.01",min:"0",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"0.00"},null,512),[[a,t.form.credit_limit]])]),e("div",null,[r[25]||(r[25]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Status",-1)),e("div",E,[s(e("input",{id:"is_active",type:"checkbox","onUpdate:modelValue":r[9]||(r[9]=o=>t.form.is_active=o),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded-sm focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[h,t.form.is_active]]),r[24]||(r[24]=e("label",{for:"is_active",class:"w-full py-2 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Active",-1))])]),e("div",D,[r[26]||(r[26]=e("label",{for:"address",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Address",-1)),s(e("textarea",{id:"address","onUpdate:modelValue":r[10]||(r[10]=o=>t.form.address=o),rows:"3",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Full address..."},null,512),[[a,t.form.address]])]),e("div",S,[r[27]||(r[27]=e("label",{for:"notes",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Notes",-1)),s(e("textarea",{id:"notes","onUpdate:modelValue":r[11]||(r[11]=o=>t.form.notes=o),rows:"3",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Additional notes..."},null,512),[[a,t.form.notes]])])]),e("div",T,[e("button",{type:"button",onClick:r[12]||(r[12]=o=>d.$router.push("/app/invoices/customers")),class:"text-gray-600 dark:text-white hover:text-white flex items-center justify-center w-full sm:w-auto border border-gray-700 dark:border-gray-500 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:hover:bg-gray-700 dark:focus:ring-primary-800"},r[28]||(r[28]=[e("svg",{class:"mr-1 -ml-1 w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14 8-4 4 4 4"})],-1),e("span",null,"Back",-1)])),e("button",{type:"submit",disabled:t.loading,class:"text-white flex items-center justify-center w-full sm:w-auto bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800 disabled:opacity-50"},[s((l(),n("svg",_,r[29]||(r[29]=[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)]),512)),[[b,!t.isEdit]]),s((l(),n("svg",j,r[30]||(r[30]=[e("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 5a1 1 0 0 1 1-1h11.586a1 1 0 0 1 .707.293l2.414 2.414a1 1 0 0 1 .293.707V19a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5Z"},null,-1),e("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"1",d:"M8 4h8v4H8V4Zm7 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1)]),512)),[[b,t.isEdit]]),e("span",null,y(t.loading?"Saving...":t.isEdit?"Save Changes":"Save"),1)],8,B)])],32)])])])}const A=f(w,[["render",M]]);export{A as default};
