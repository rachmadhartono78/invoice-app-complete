import{_ as c,o as s,c as d,a as t,h as k,k as o,t as l,F as u,l as x,s as p}from"./app-yrMyzsrH.js";const v={data(){return{loading:!1,userDetails:null,error:null,userId:null}},created(){this.userId=this.$route.params.id,this.loadUserDetails()},methods:{async loadUserDetails(){var n,e;if(!this.userId){this.error="ID pengguna tidak valid";return}this.loading=!0,this.error=null;try{const m=await this.axios.get(`v1/master/user/${this.userId}`);this.userDetails=m.data}catch(m){console.error("Error loading user details:",m),this.error=((e=(n=m.response)==null?void 0:n.data)==null?void 0:e.message)||"Gagal memuat detail pengguna",this.$emit("showToast",this.error,"error")}finally{this.loading=!1}},handleEdit(){this.$router.push({name:"update-users",params:{id:this.userId}})},formatDate(n){return n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}}},h={class:"p-4 bg-white dark:bg-gray-800 rounded-xl"},f={class:"flex items-center justify-between mb-6"},_={class:"flex items-center space-x-4"},w={key:0,class:"flex justify-center py-12"},D={key:1,class:"space-y-6"},z={class:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg"},C={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},B={class:"mt-1 text-sm text-gray-900 dark:text-white font-medium"},L={class:"mt-1 text-sm text-gray-900 dark:text-white"},j={class:"mt-1 text-sm text-gray-900 dark:text-white"},M={class:"mt-1 text-sm text-gray-900 dark:text-white"},E={class:"mt-1 text-sm text-gray-900 dark:text-white"},I={class:"mt-1 text-sm text-gray-900 dark:text-white"},H={key:0,class:"grid grid-cols-2 sm:grid-cols-4 gap-4"},N={class:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg text-center"},T={class:"text-3xl font-bold text-blue-600 dark:text-blue-400"},A={class:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg text-center"},O={class:"text-3xl font-bold text-green-600 dark:text-green-400"},V={class:"bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-lg text-center"},U={class:"text-3xl font-bold text-yellow-600 dark:text-yellow-400"},P={class:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg text-center"},F={class:"text-3xl font-bold text-purple-600 dark:text-purple-400"},G={key:1,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},R={class:"font-medium text-gray-900 dark:text-white"},S={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},q={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},J={key:2,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6"},Q={class:"space-y-6"},W={class:"flex justify-between items-start mb-4"},X={class:"text-lg font-medium text-gray-900 dark:text-white"},Y={class:"text-sm text-gray-500 dark:text-gray-400"},Z={class:"text-xs text-gray-400 dark:text-gray-500"},$={key:0,class:"text-right"},tt={class:"space-y-1"},et={key:0,class:"mt-4"},rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},st={class:"flex items-center justify-between mb-3"},dt={class:"flex items-center space-x-2"},at={class:"font-medium text-gray-900 dark:text-white"},lt={class:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded"},it={key:0,class:"flex flex-wrap gap-2"},ot={key:0,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},nt={key:1,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},gt={key:3,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6"},ut={class:"space-y-3"},xt={class:"flex items-center space-x-3"},mt={class:"font-medium text-gray-900 dark:text-white"},yt={class:"text-sm text-gray-500 dark:text-gray-400"},kt={class:"text-xs text-gray-400 dark:text-gray-500"},bt={key:2,class:"text-center py-12"},ct={class:"text-gray-500 dark:text-gray-400 mb-4"};function pt(n,e,m,vt,a,g){return s(),d("div",h,[t("div",f,[t("div",_,[t("button",{onClick:e[0]||(e[0]=r=>n.$router.go(-1)),class:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700"},e[3]||(e[3]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),k(" Kembali ")])),e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Detail Pengguna",-1))]),a.userDetails?(s(),d("button",{key:0,onClick:e[1]||(e[1]=(...r)=>g.handleEdit&&g.handleEdit(...r)),class:"flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg"},e[5]||(e[5]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),k(" Edit Pengguna ")]))):o("",!0)]),a.loading?(s(),d("div",w,e[6]||(e[6]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)]))):a.userDetails?(s(),d("div",D,[t("div",z,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Informasi Dasar",-1)),t("dl",C,[t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Nama",-1)),t("dd",B,l(a.userDetails.name),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),t("dd",L,l(a.userDetails.email),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"No. Telepon",-1)),t("dd",j,l(a.userDetails.phone||"-"),1)]),t("div",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"No. Registrasi",-1)),t("dd",M,l(a.userDetails.registration_number||"-"),1)]),t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Tanggal Bergabung",-1)),t("dd",E,l(g.formatDate(a.userDetails.created_at)),1)]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Terakhir Diperbarui",-1)),t("dd",I,l(g.formatDate(a.userDetails.updated_at)),1)])])]),a.userDetails.summary?(s(),d("div",H,[t("div",N,[t("div",T,l(a.userDetails.summary.total_authorities),1),e[14]||(e[14]=t("div",{class:"text-sm text-blue-600 dark:text-blue-400 mt-1"},"Otoritas",-1))]),t("div",A,[t("div",O,l(a.userDetails.summary.total_organizations),1),e[15]||(e[15]=t("div",{class:"text-sm text-green-600 dark:text-green-400 mt-1"},"Organisasi",-1))]),t("div",V,[t("div",U,l(a.userDetails.summary.total_menus),1),e[16]||(e[16]=t("div",{class:"text-sm text-yellow-600 dark:text-yellow-400 mt-1"},"Menu",-1))]),t("div",P,[t("div",F,l(a.userDetails.summary.total_actions),1),e[17]||(e[17]=t("div",{class:"text-sm text-purple-600 dark:text-purple-400 mt-1"},"Aksi",-1))])])):o("",!0),a.userDetails.organizations&&a.userDetails.organizations.length>0?(s(),d("div",G,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Organisasi",-1)),t("div",K,[(s(!0),d(u,null,x(a.userDetails.organizations,r=>(s(),d("div",{key:r.id,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600"},[t("div",R,l(r.name),1),t("div",S,l(r.code)+" â€¢ "+l(r.type),1),t("div",q,l(r.city),1)]))),128))])])):o("",!0),a.userDetails.authorities&&a.userDetails.authorities.length>0?(s(),d("div",J,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Otoritas & Hak Akses",-1)),t("div",Q,[(s(!0),d(u,null,x(a.userDetails.authorities,r=>{var b;return s(),d("div",{key:r.id,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-6 bg-gray-50 dark:bg-gray-700"},[t("div",W,[t("div",null,[t("h4",X,l(r.name),1),t("p",Y,l(r.code),1),t("p",Z,l((b=r.application)==null?void 0:b.name),1)]),r.organizations&&r.organizations.length>0?(s(),d("div",$,[e[19]||(e[19]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Organisasi:",-1)),t("div",tt,[(s(!0),d(u,null,x(r.organizations,i=>(s(),d("span",{key:i.id,class:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full"},l(i.name),1))),128))])])):o("",!0)]),r.menus_with_actions&&r.menus_with_actions.length>0?(s(),d("div",et,[e[23]||(e[23]=t("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Menu & Aksi:",-1)),t("div",rt,[(s(!0),d(u,null,x(r.menus_with_actions,i=>(s(),d("div",{key:i.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600"},[t("div",st,[t("div",dt,[e[20]||(e[20]=t("div",{class:"w-2 h-2 bg-primary-500 rounded-full"},null,-1)),t("span",at,l(i.name),1)]),t("span",lt,l(i.url),1)]),i.actions&&i.actions.length>0?(s(),d("div",it,[(s(!0),d(u,null,x(i.actions,y=>(s(),d("span",{key:y.id,class:p([y.allowed?"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-300 dark:border-green-800":"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-300 dark:border-red-800","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border"])},[y.allowed?(s(),d("svg",ot,e[21]||(e[21]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))):(s(),d("svg",nt,e[22]||(e[22]=[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]))),k(" "+l(y.name),1)],2))),128))])):o("",!0)]))),128))])])):o("",!0)])}),128))])])):o("",!0),a.userDetails.devices&&a.userDetails.devices.length>0?(s(),d("div",gt,[e[26]||(e[26]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Perangkat Aktif",-1)),t("div",ut,[(s(!0),d(u,null,x(a.userDetails.devices,r=>(s(),d("div",{key:r.id,class:"flex justify-between items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},[t("div",xt,[e[25]||(e[25]=t("div",{class:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-primary-600 dark:text-primary-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z","clip-rule":"evenodd"})])],-1)),t("div",null,[t("div",mt,l(r.device_name),1),t("div",yt," Terakhir digunakan: "+l(r.last_used_at),1)])]),t("div",kt,l(r.created_at),1)]))),128))])])):o("",!0)])):a.error?(s(),d("div",bt,[e[27]||(e[27]=t("div",{class:"text-red-500 dark:text-red-400 mb-4"},[t("svg",{class:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[28]||(e[28]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Error memuat data",-1)),t("p",ct,l(a.error),1),t("button",{onClick:e[2]||(e[2]=(...r)=>g.loadUserDetails&&g.loadUserDetails(...r)),class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700"}," Coba Lagi ")])):o("",!0)])}const ft=c(v,[["render",pt]]);export{ft as default};
